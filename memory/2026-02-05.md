# Daily Log â€” 2026-02-05

## ğŸ¯ Main Focus: CNC Planner Pro Demo fÃ¼r Andreas

### Session 2 (16:00-16:40) â€” Massive UI/UX Improvements

### Was passiert ist:
- Demo mit Andreas bei Onkel's Betrieb (CNC-Fertigung)
- Florian brachte Feedback: Spannung, Einrichtzeit, wie Programm Position nachvollzieht
- 3 echte Bauteile aus dem Betrieb: 
  - **Verbindungsplatte** (2500473.01.11.02.00.001) â€” S235JR, 435Ã—45Ã—15mm, einfach
  - **Adapterplatte** (2500473.01.01.02.01.001) â€” AlMg3, komplexer
  - **Block** (2500473.01.01.01.01.001) â€” Alu/Stahl

### Demo-Verbesserungen (v13 â†’ v14):
- âœ… Spannung-Auswahl (Schraubstock, Tischspannung, Nullpunkt, etc.)
- âœ… Einrichtzeit-Berechnung (15-45 min je nach Methode)
- âœ… Spannungs-Beschreibung (dynamisch)
- âœ… Detailrechnung Einrichtkosten
- âœ… Editierbare QualitÃ¤tsprÃ¼fung (+ Button, lÃ¶schbar)
- âœ… Zeichnungs-Upload Placeholder
- âœ… Header Ã¼berarbeitet ("Fertigungskalkulation in Sekunden")
- âœ… Trust-Badges (DSGVO, <30 Sek, NC-Code inklusive)
- âœ… Echte Teile eingefÃ¼gt (Verbindungsplatte, Adapterplatte)
- âœ… NC-Code fÃ¼r Verbindungsplatte mit echten Bohrpositionen aus Zeichnung

### Marktrecherche:
- **PDF erstellt:** `CNC-MARKET-RESEARCH-2026.pdf` (8 Seiten, LaTeX)
- Hauptwettbewerber: Spanflug MAKE (â‚¬399/Mo)
- USP identifiziert: "Einzige Software mit NC-Code-Generierung"
- Preisempfehlung: â‚¬49-149/Mo (unter Spanflug)

### UI Research:
- Paperless Parts (US) als Referenz
- 3 Layout-Optionen dokumentiert (Job-Liste, Dashboard, Split View)
- Empfehlung: Split View (Sidebar + Main)
- Problem: Teil-Karten "below the fold" â€” Upload-Box zu groÃŸ

## ğŸ”´ Offene Probleme:
- Verbindungsplatte wird in Demo nicht angezeigt (Browser-Cache? Layout?)
- UI-Redesign diskutiert aber nicht umgesetzt (Research first)
- 0 External Sends heute (Outreach-Mails liegen bereit!)

## ğŸ’¡ Learnings:
1. **Research â†’ Standards â†’ Build** funktioniert besser
2. **LaTeX > HTML** fÃ¼r PDFs (8 min vs. 2h Iteration)
3. **Anwender-Perspektive zuerst** â€” Was braucht der Arbeitsvorbereiter?
4. **Feature Creep ist real** â€” 6 neue Features in einer Session
5. **Erst diskutieren, dann bauen** â€” Florian will Input vor Umsetzung

## ğŸ“ Wichtige Dateien:
- `projects/cnc-planner/demo-v14.html` â€” Aktuelle Demo
- `projects/cnc-planner/research/CNC-MARKET-RESEARCH-2026.pdf` â€” Marktanalyse
- `projects/cnc-planner/research/UI-RESEARCH.md` â€” UI Best Practices
- `projects/cnc-planner/FEATURE-SPEC-V2.md` â€” Feature-Spezifikation
- `projects/cnc-planner/demo-parts/` â€” Echte Zeichnungen (PDF + PNG)

---

## Session 2 Updates (16:00-16:45)

### Implementiert:
1. **Thumbnails in Teil-Karten** â€” Zeichnungen als 80Ã—80px Vorschau
2. **GroÃŸe Zeichnungs-Vorschau** â€” Aufklappbar, Vollbild-Button
3. **StÃ¼ckzahl-Eingabe** â€” In Mengenkalkulation, beeinflusst Einricht-/PrÃ¼fkosten pro StÃ¼ck
4. **Mengenkalkulation-Sektion** â€” Transparente Tabelle mit Formeln, Pro-StÃ¼ck vs. Batch
5. **PrÃ¼fzeit mit Zeiten** â€” Jedes PrÃ¼fmerkmal hat editierbare Zeit, Toggle fÃ¼r Kalkulation
6. **Feedback-Sektion** â€” Radio-Buttons + Kommentarfeld
7. **PDF Print CSS** â€” Professionelles Layout fÃ¼r Druck

### Bugs gefixt:
- âœ… Marge ruft jetzt recalculateAll() auf
- âœ… StÃ¼ckzahl nur an EINER Stelle (nicht doppelt)
- âœ… Angebot aktualisiert sich mit Menge & Marge
- âœ… Lila entfernt â†’ Industriegrau (vertrauenswÃ¼rdiger)

### Gewichts-/Materialkosten-Berechnung korrigiert:
```
Volumen (mmÂ³) = L Ã— B Ã— H
Volumen (cmÂ³) = Volumen (mmÂ³) Ã· 1000
Gewicht (kg) = Volumen (cmÂ³) Ã— Dichte (g/cmÂ³) Ã· 1000
Materialkosten = Gewicht Ã— â‚¬/kg Ã— 1.1 (Verschnitt)
```

Beispiel Verbindungsplatte (S235JR, 440Ã—50Ã—20mm):
- Volumen: 440.000 mmÂ³ = 440 cmÂ³
- Gewicht: 440 Ã— 7.85 / 1000 = 3,45 kg
- Material: 3,45 Ã— â‚¬1,80 Ã— 1.1 = â‚¬6,84

### UI Research Erkenntnisse:
- **Industriefarben:** Navy (#1e3a5f), Stahlgrau (#64748b), WeiÃŸ
- **Vermeiden:** Pink, Violett, Neon â†’ wirken billig
- **Transparenz schafft Vertrauen:** Formeln sichtbar machen
- **Paperless Parts** als Referenz (US-MarktfÃ¼hrer)

### Noch offen:
- [ ] Thumbnail lÃ¤dt evtl. nicht (Browser-Cache?)
- [ ] PDF-Export testen
- [ ] Mobile Responsive
- [ ] **OUTREACH SENDEN!**

## ğŸ’¡ Learnings (Session 2):
- **"Vertrauen durch Transparenz"** â€” Alle Berechnungen mit Formel zeigen
- **Industriefarben = Vertrauen** â€” Violett/Pink vermeiden
- **Nur EINE Eingabestelle pro Wert** â€” Sonst Sync-Bugs
- **recalculateAll() fÃ¼r alles** â€” Eine Funktion, alle Updates

---

*Demo-v14.html ist aktuelle Version mit allen Verbesserungen.*

## 18:00-18:15 â€” CNC Planner v15 Entwicklung

### Erstellt:
- **demo-v15.html** â€” Komplett neues UI mit Sidebar-Navigation
- **research/saas-cpq-ui-research.md** â€” State-of-the-Art CPQ UI Research
- **v15-design-spec.md** â€” Design System (CSS Variables, Komponenten)
- **V15-PLAN.md** â€” Entwicklungsplan

### v15 Design-Entscheidungen:
- **Sidebar statt Tabs** â€” wie Notion, Linear (Enterprise SaaS Standard)
- **Farbpalette:** Primary #1E3A5F (Deep Blue), Accent #2563EB
- **Fonts:** Inter (UI) + JetBrains Mono (Zahlen/Code)
- **Flow:** Teil wÃ¤hlen â†’ Parameter â†’ Ergebnis â†’ Export
- **Einstellungen unten in Sidebar** â€” immer zugÃ¤nglich

### Lessons:
- **Sub-Agents gescheitert** â€” Beide ohne Output zurÃ¼ckgekehrt. Research selbst gemacht.
- **Paperless Parts als Benchmark** â€” "Quote Faster. Quote Smarter." / 2h â†’ 15min
- **Trust durch Transparenz** â€” Formeln zeigen, Genauigkeit angeben (Â±15%)

### Referenzen fÃ¼r kÃ¼nftige UI-Arbeit:
- Paperless Parts (US MarktfÃ¼hrer CPQ)
- Xometry (Instant Quote)
- Hubs/Protolabs (Upload â†’ Configure â†’ Price)
- Luminovo (EU, AI-BOM)

## 18:00-18:20 â€” CNC Planner Pro v15 (Golden Standard Approach)

### Methodik: Research First, Then Build
Florian forderte: "Keine Implementierung ohne Goldenen Standard"
â†’ Erst Standards definieren, dann umsetzen

### Golden Standards erstellt (4 Dateien):
```
research/golden-standards/
â”œâ”€â”€ design-system.md      â€” CSS Variables, 8px Grid, Farben
â”œâ”€â”€ sidebar-navigation.md â€” 260px, States, Mobile-Verhalten
â”œâ”€â”€ form-inputs.md        â€” 40px HÃ¶he, Units, Validation
â””â”€â”€ price-display.md      â€” Hero 48px, Cost Breakdown Pattern
```

### Dokumentation:
- `V15-REQUIREMENTS.md` â€” 86 Features aus v14 dokumentiert
- `V15-IMPLEMENTATION-GUIDE.md` â€” Architektur & Component Specs
- `DESIGN-PRINCIPLES.md` â€” Nachvollziehbarkeit, Transparenz

### demo-v15.html (72 KB) implementiert:
- Sidebar-Navigation (statt Tabs)
- Design System als CSS Variables
- Alle v14 Features portiert
- Clean Enterprise-Look (Linear/Notion-inspiriert)

### Technische Details v15:
- `--sidebar-width: 260px`
- `--input-height: 40px`
- `--color-primary: #1E3A5F`
- Font: Inter + JetBrains Mono
- Berechnungslogik 1:1 aus v14

### Sub-Agents (gemischte Ergebnisse):
- gs-pricing: âœ… 16KB Research (deutsches Format, Stripe-Pattern)
- gs-sidebar: âš ï¸ Kein Output-File
- gs-forms: âš ï¸ Kein Output-File
â†’ Lesson: Eigene Standards waren schneller und vollstÃ¤ndiger

### Lessons Learned:
- **Golden Standard Approach funktioniert** â€” Mehr Upfront-Arbeit, aber klarere Implementierung
- **Sub-Agent Reliability ~50%** â€” Besser selbst machen wenn zeitkritisch
- **72KB Single-File** â€” Funktioniert, aber fÃ¼r Production splitten
- **CSS Variables** â€” ErmÃ¶glichen spÃ¤ter einfaches Theming/Dark Mode

## ğŸ§¬ Evolution Cycle #0020 (18:30)

### Mutation Mode D: Innovation â€” Send Enforcer System

**Problem Identified:** 
- 0 External Sends for 4+ days (Feb 3-5)
- Everything prepared, nothing sent
- â‚¬2,105 estimated opportunity cost

**Created:**
1. `scripts/send-enforcer.sh` â€” Execution accountability script
   - Shows ready-to-send items
   - Calculates opportunity cost
   - "Shame mode" for hard truths
   - Quick action commands

2. `agents/EXECUTION-METRICS.md` â€” Persistent tracking
   - Send ratio (Sent/Prepared)
   - Weekly scorecard
   - Blocker analysis
   - Historical data

3. **evolver upgraded** â€” Now tracks execution health
   - checkExecutionHealth() function added
   - Shows ğŸ“¤ Execution % in health report
   - Flags zero-send days with â‚¬ cost

**HEARTBEAT.md updated:**
- Added send-enforcer quick commands
- Linked execution metrics file

**Test Results:**
- 14 CNC emails ready, 0 sent
- 19 VC applications ready, 0 sent  
- 26% completion rate this week
- â‚¬2,105 opportunity cost calculated

**Next:** Florian needs to SEND, not prepare more.


## 18:45-19:00 â€” v15 Feature Audit & Gap Analysis

### Florian-Feedback: "Es fehlen immer noch Elemente"
v15-complete.html war zu schnell erstellt â€” Features aus v14 verloren gegangen.

### Systematische Analyse durchgefÃ¼hrt:
1. **V15-AUDIT-INSTRUCTIONS.md** â€” Anweisung fÃ¼r mich selbst
2. **V14-FEATURE-INVENTORY.md** â€” VollstÃ¤ndige Feature-Liste (7KB)

### 8 Kritische LÃ¼cken identifiziert:
1. Kalkulation Tab (Detailansicht mit allen Berechnungen)
2. Werkzeuge Tab (Schnittparameter Vc/n/fz + Kosten)
3. Editierbare PrÃ¼ftabelle (+/â€“ Buttons)
4. Editierbare ArbeitsgÃ¤nge (+/â€“ Buttons)
5. Loading Animation (5-Step Progress)
6. Feedback-System (Correct/Too High/Too Low + Kommentar)
7. Siemens/Fanuc NC-Code Templates
8. Zeichnungs-Upload in Fertigungsanweisung

### Was v15 bereits besser macht:
- Sidebar Navigation (statt Tabs)
- Konfidenz-Badge am Preis
- PlausibilitÃ¤ts-Warnungen
- Golden Standard CSS
- Saubererer Code (108KB vs 226KB)

### Lessons Learned:
- **Erst Feature-Inventar, dann implementieren** â€” Nie neue Version ohne vollstÃ¤ndige Analyse der alten
- **"Alles Ã¼bernommen" â‰  alles Ã¼bernommen** â€” Muss systematisch geprÃ¼ft werden
- **Kunde will Individualisierbarkeit** â€” Editierbare Tabellen sind Kernfeature, nicht Nice-to-have
- **Nachvollziehbarkeit = Kernversprechen** â€” Jede Zahl muss erklÃ¤rbar sein mit sichtbarer Formel

### NÃ¤chste Schritte:
- Phase 1: Kalkulation + Werkzeuge + Loading + PrÃ¼ftabelle (4h)
- Phase 2: ArbeitsgÃ¤nge + Feedback + NC-Formate + Upload (2h)
- Phase 3: Polish (1h)

## 18:45-19:20 â€” CNC Planner v16 Massive Upgrade

### Florian-Feedback integriert:

**1. Feature-Inventar erstellt:**
- V14-FEATURE-INVENTORY.md â€” VollstÃ¤ndige Analyse aller Features
- V15-AUDIT-INSTRUCTIONS.md â€” Selbst-Anweisung fÃ¼r Audits
- MATURITY-ROADMAP.md â€” 5-Phasen Plan bis Spanflug-Niveau

**2. v16-complete.html gebaut (148KB â†’ ~160KB):**
- âœ… Loading Animation (5-Step Progress)
- âœ… Werkzeuge-Sektion (Schnittparameter + Kosten)
- âœ… Kalkulation-Sektion mit aufklappbaren OPs
- âœ… **SVG-Skizzen** bei jeder OP (PlanfrÃ¤sen, Kontur, Tasche, Schlichten, Feinbohren)
- âœ… Detaillierte Berechnungsformeln (Verfahrweg, Vorschub, Haupt-/Nebenzeit)
- âœ… Normen-Referenz (REFA, VDI 3321, DIN 8580, DIN EN 10027)
- âœ… Feedback-System (Correct/Too High/Too Low)
- âœ… BETA Badge im Logo

**3. Einstellungen komplett Ã¼berarbeitet (4 Tabs):**
- Tab 1: StundensÃ¤tze (3-Achs, 5-Achs, Drehen, SÃ¤gen, Entgraten, PrÃ¼fung)
- Tab 2: Materialpreise (Baustahl, Edelstahl, Aluminium)
- Tab 3: **Zuschlagskalkulation** (NEU!) â€” MGK, FGK, AV-Aufschlag, VwGK, VtGK, Gewinn
- Tab 4: Firmendaten (fÃ¼r Angebote)

**4. IMPROVEMENT-PROMPT.md erstellt:**
- 10 Spanflug-Features als Benchmark
- Feature-Roadmap P0/P1/P2/P3
- ZeitschÃ¤tzung: ~15h bis MVP

### Spanflug-Benchmark Status (v16):
| Feature | Status |
|---------|--------|
| Detaillierte KostenaufschlÃ¼sselung | ğŸŸ¢ Done |
| Arbeitsvorbereitung | ğŸŸ¢ Done |
| Anpassbarkeit | ğŸŸ¢ Done |
| Cloud-basiert (Browser) | ğŸŸ¢ Done |
| CAD/PDF Upload | ğŸŸ¡ Demo only |
| Archiv | ğŸ”´ Fehlt |
| ERP-Integration | ğŸ”´ Fehlt |

### Lessons Learned:
- **Aufklappbare Details > statische Tabellen** â€” Nutzer sehen erst Ãœbersicht, dann Details on-demand
- **SVG inline > externe Bilder** â€” Funktioniert Ã¼berall, keine 404s
- **Normen-Referenz schafft Vertrauen** â€” REFA, VDI, DIN zeigen ProfessionalitÃ¤t
- **Zuschlagskalkulation ist Standard** â€” AV-Aufschlag, VwGK, VtGK erwarten Fertigungsbetriebe

### NÃ¤chste Schritte:
1. Zuschlagskalkulation in calculate() aktivieren
2. Upload-Funktion fÃ¼r Zeichnungen
3. Archiv mit localStorage
4. Demo morgen mit Onkel!

## 19:20-19:35 â€” CNC Planner v16 Zuschlagskalkulation

### Zuschlagskalkulation implementiert (Industriestandard):

**Kalkulationsstruktur:**
```
Materialkosten + MGK (10%)
Fertigungskosten + AV-Aufschlag (8%)
+ WerkzeugverschleiÃŸ
= HERSTELLKOSTEN (HK)
+ VwGK (12%) + VtGK (5%)
= SELBSTKOSTEN (SK)
+ Gewinn (10%)
= ANGEBOTSPREIS
```

**Code-Ã„nderungen in calculate():**
- Liest ZuschlÃ¤ge aus Settings: `zuschlagMGK`, `zuschlagAV`, `zuschlagVwGK`, `zuschlagVtGK`, `zuschlagGewinn`
- `materialMitGK = materialCost * (1 + zuschlagMGK / 100)`
- `fertigungMitAV = fertigungskosten * (1 + zuschlagAV / 100)`
- `herstellkosten = materialMitGK + fertigungMitAV + toolCost`
- `selbstkosten = herstellkosten * (1 + (VwGK + VtGK) / 100)`
- `angebotspreis = selbstkosten * (1 + Gewinn / 100)`

**UI-Labels geÃ¤ndert:**
- Material â†’ "Material + MGK"
- Bearbeitung â†’ "Fertigung + AV"  
- Nebenzeiten â†’ "VwGK + VtGK"
- Herstellkosten â†’ "Selbstkosten"
- Marge â†’ "Gewinn"
- Verkaufspreis â†’ "Angebotspreis"

**Mengenstaffel auch aktualisiert** â€” verwendet volle Zuschlagskalkulation pro StÃ¼ckzahl.

### SVG-Skizzen bei aufgeklappten OPs (vorher implementiert):
- OP10: PlanfrÃ¤sen (3 Zeilenbahnen)
- OP20: KonturfrÃ¤sen (Ã˜120, konturparallel)
- OP30: Tasche (60Ã—40mm, ZeilenrÃ¤umen)
- OP50: Schlichten (Spirale, h5 Toleranz-Box) â€” KRITISCH rot
- OP60: Feinbohren (H7, Schnittdarstellung) â€” KRITISCH rot

### Status v16:
- **File:** `projects/cnc-planner/demo-v16-complete.html` (~165KB)
- âœ… Zuschlagskalkulation aktiv
- âœ… SVG-Skizzen bei OPs
- âœ… BETA Badge
- âœ… Demo-ready fÃ¼r Onkel

## 19:15-20:53 â€” CNC Planner v16/v17 Session

### Hauptarbeit:

**1. Zuschlagskalkulation implementiert (v16)**
- Industriestandard: Material + MGK â†’ Fertigung + AV â†’ HK â†’ + VwGK + VtGK â†’ SK â†’ + Gewinn â†’ Angebotspreis
- calculate() Funktion komplett Ã¼berarbeitet
- UI Labels angepasst (Selbstkosten, Angebotspreis statt Verkaufspreis)
- Mengenstaffel mit voller Zuschlagskalkulation

**2. SVG-Skizzen bei aufklappbaren OPs**
- OP10: PlanfrÃ¤sen (Zeilenbahnen)
- OP20: KonturfrÃ¤sen (Ã˜120)
- OP30: Tasche (60Ã—40mm)
- OP50: Schlichten h5 (KRITISCH, Spirale + Toleranz-Box)
- OP60: Feinbohren H7 (KRITISCH, Schnittdarstellung)

**3. Design Standard definiert**
- `DESIGN-STANDARD.md` erstellt
- CSS-Klassen: card-header-primary, -info, -success, -warning, -error
- Alle inline-styles durch Klassen ersetzt
- Icons vor allen Headers

**4. Feedback-System gebaut (v16)**
- Neuer Sidebar-Eintrag: ğŸ“ Feedback
- 3 Tabs: Erfassen, Cross-Learnings, Historie
- Zeitabweichung pro OP erfassbar
- Kategorien: Einrichtung, Werkzeug, Material, Toleranz, NC, Sonstiges
- Muster-Erkennung mit "Anwenden" / "Ignorieren" Buttons
- localStorage Speicherung
- CSV Export

**5. Struktur-Vereinfachung analysiert**
- `STRUKTUR-VEREINFACHUNG.md` erstellt
- Vorschlag: 10 â†’ 6 Sektionen
- Florian-Entscheidung: v16 Design behalten, weniger Tabs

**6. v17 komplett neu gebaut**
- 6 Sektionen: Teil, Kalkulation, Angebot, NC-Code, Feedback, Einstellungen
- Zeichnung prominent in Teil-Sektion
- Aufklappbare Bereiche in Kalkulation
- Florian-Feedback: "v16 schaut besser und professioneller aus"

**7. v16 Navigation vereinfacht (FINALE VERSION)**
- Neue Navigation: 6 statt 10 Tabs
- "Teil & Parameter" â†’ zeigt beide Sections
- "Kalkulation" â†’ zeigt Ergebnis + Details + Werkzeuge + Fertigungsanweisung
- showSection() Funktion updated fÃ¼r kombinierte Views

### Dateien erstellt/geÃ¤ndert:
- `demo-v16-complete.html` â€” Hauptversion mit allem
- `demo-v17.html` â€” Neubau (weniger professionell laut Florian)
- `DESIGN-STANDARD.md` â€” CSS-Klassen Dokumentation
- `STRUKTUR-VEREINFACHUNG.md` â€” Analyse der Redundanzen
- `FEEDBACK-SYSTEM-KONZEPT.md` â€” Detailliertes Konzept

### Florian-Feedback:
- v16 Design ist besser und professioneller als v17
- Weniger Tabs sind gut
- Feedback-Option ist positiv
- Zeichnung soll prominent bleiben aber nicht in Fertigungsanweisung

### Aktuelle v16 Struktur (6 Tabs):
1. ğŸ“ Teil & Parameter (combined)
2. ğŸ’° Kalkulation (Ergebnis + Details + Werkzeuge + Anweisung combined)
3. ğŸ“„ Angebot
4. ğŸ’» NC-Code
5. ğŸ“ Feedback (NEU)
6. âš™ï¸ Einstellungen

### NÃ¤chste Schritte:
- [ ] Upload-Funktion fÃ¼r Zeichnungen
- [ ] Archiv mit localStorage
- [ ] ZuschlÃ¤ge in calculate() verifizieren
- [ ] Demo-Feedback von Onkel einarbeiten

### Status:
- **demo-v16-complete.html** = Hauptversion zum Weiterentwickeln
- Demo mit Onkel war heute 10:30 â€” Ergebnis noch nicht dokumentiert
